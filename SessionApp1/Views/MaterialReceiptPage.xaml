<Page x:Class="SessionApp1.Views.MaterialReceiptPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Поступление материалов"
      Background="#FFE0D5CA">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Поступление материалов" FontSize="24" FontWeight="Bold" 
                  Foreground="Black" Margin="0,0,0,20"/>

        <!-- Заголовок документа -->
        <Border Grid.Row="1" Background="White" Padding="20" Margin="0,0,0,20" CornerRadius="5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,10,10">
                    <TextBlock Text="Номер документа:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <TextBox x:Name="DocumentNumberTextBox" Height="30"/>
                </StackPanel>

                <StackPanel Grid.Row="0" Grid.Column="1" Margin="0,0,10,10">
                    <TextBlock Text="Дата поступления:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <DatePicker x:Name="ReceiptDatePicker" Height="30"/>
                </StackPanel>

                <StackPanel Grid.Row="0" Grid.Column="2" Margin="0,0,0,10">
                    <TextBlock Text="Поставщик:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <TextBox x:Name="SupplierTextBox" Height="30"/>
                </StackPanel>

                <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal">
                    <Button x:Name="AddItemButton" Content="Добавить материал" 
                            Background="#FFB5D5CA" Padding="10,5" Margin="0,0,10,0"
                            Click="AddItemButton_Click"/>
                    <Button x:Name="ProcessDocumentButton" Content="Провести документ" 
                            Background="#FFE0A9AF" Padding="10,5"
                            Click="ProcessDocumentButton_Click"/>
                </StackPanel>

                <TextBlock Grid.Row="1" Grid.Column="2" x:Name="TotalAmountText" 
                          FontWeight="Bold" FontSize="16" HorizontalAlignment="Right"
                          VerticalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- Список материалов -->
        <DataGrid x:Name="ReceiptItemsDataGrid" Grid.Row="2" 
                  AutoGenerateColumns="False" 
                  CanUserAddRows="False" 
                  CanUserDeleteRows="True"
                  AlternatingRowBackground="#FFF5F5F5"
                  GridLinesVisibility="Horizontal"
                  HeadersVisibility="Column">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Артикул" Binding="{Binding MaterialArticle}" Width="120"/>
                <DataGridComboBoxColumn Header="Тип" SelectedValueBinding="{Binding MaterialType}" Width="100">
                    <DataGridComboBoxColumn.ElementStyle>
                        <Style TargetType="ComboBox">
                            <Setter Property="ItemsSource">
                                <Setter.Value>
                                    <x:Array Type="sys:String" xmlns:sys="clr-namespace:System;assembly=mscorlib">
                                        <sys:String>fabric</sys:String>
                                        <sys:String>fitting</sys:String>
                                    </x:Array>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </DataGridComboBoxColumn.ElementStyle>
                </DataGridComboBoxColumn>
                <DataGridTextColumn Header="Количество" Binding="{Binding Quantity}" Width="100"/>
                <DataGridTextColumn Header="Цена" Binding="{Binding Price, StringFormat=C}" Width="100"/>
                <DataGridTextColumn Header="Сумма" Binding="{Binding Amount, StringFormat=C}" Width="100" IsReadOnly="True"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Page>
