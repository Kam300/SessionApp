<Page x:Class="SessionApp1.Views.ProductDesignerPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Конструктор изделий"
      Background="#FFE0D5CA">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Панель инструментов -->
        <Border Grid.Column="0" Background="White" Padding="20">
            <StackPanel>
                <TextBlock Text="Конструктор изделий" FontSize="20" FontWeight="Bold" 
                          Margin="0,0,0,20"/>

                <!-- Размеры изделия -->
                <GroupBox Header="Размеры изделия" Margin="0,0,0,15">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="Ширина:" Width="60"/>
                            <TextBox x:Name="WidthTextBox" Width="100" Text="500"
                                    TextChanged="Dimensions_Changed"/>
                            <TextBlock Text="мм" Margin="5,0"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="Высота:" Width="60"/>
                            <TextBox x:Name="HeightTextBox" Width="100" Text="700"
                                    TextChanged="Dimensions_Changed"/>
                            <TextBlock Text="мм" Margin="5,0"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>

                <!-- Выбор ткани -->
                <GroupBox Header="Ткань" Margin="0,0,0,15">
                    <StackPanel>
                        <ComboBox x:Name="FabricComboBox" DisplayMemberPath="FabricName" 
                                 SelectedValuePath="Article" Margin="0,5"
                                 SelectionChanged="Fabric_Changed"/>
                        <Button Content="Загрузить свою ткань" Margin="0,5"
                               Click="LoadCustomFabric_Click"/>
                    </StackPanel>
                </GroupBox>

                <!-- Фурнитура -->
                <GroupBox Header="Фурнитура" Margin="0,0,0,15">
                    <StackPanel>
                        <ListBox x:Name="FittingListBox" Height="150" 
                                DisplayMemberPath="Name" 
                                MouseDoubleClick="Fitting_DoubleClick"/>
                        <Button Content="Загрузить свою фурнитуру" Margin="0,5"
                               Click="LoadCustomFitting_Click"/>
                    </StackPanel>
                </GroupBox>

                <!-- Действия -->
                <StackPanel>
                    <Button Content="Сохранить изделие" Background="#FFB5D5CA" 
                           Padding="10" Margin="0,5"
                           Click="SaveProduct_Click"/>
                    <Button Content="Очистить" Background="#FFE0A9AF" 
                           Padding="10" Margin="0,5"
                           Click="Clear_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Область дизайна -->
        <Border Grid.Column="1" Background="LightGray" Margin="20">
            <Canvas x:Name="DesignCanvas" Background="White" 
                   MouseLeftButtonDown="Canvas_MouseLeftButtonDown"
                   AllowDrop="True" Drop="Canvas_Drop">
                <!-- Здесь будет отображаться предварительный просмотр изделия -->
                <Rectangle x:Name="ProductRectangle" 
                          Fill="LightBlue" Stroke="Black" StrokeThickness="2"
                          Width="500" Height="700"/>
            </Canvas>
        </Border>
    </Grid>
</Page>
